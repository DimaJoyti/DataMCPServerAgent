# Enhanced Bright Data MCP Integration

–ü–æ–∫—Ä–∞—â–µ–Ω–∞, production-ready —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Bright Data MCP —Å–µ—Ä–≤–µ—Ä–æ–º –∑ —Ä–æ–∑—à–∏—Ä–µ–Ω–∏–º–∏ –º–æ–∂–ª–∏–≤–æ—Å—Ç—è–º–∏ –¥–ª—è –≤–µ–±-—Å–∫—Ä–∞–ø—ñ–Ω–≥—É, –∑–±–æ—Ä—É –¥–∞–Ω–∏—Ö —Ç–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—ó —Ä–æ–∑–≤—ñ–¥–∫–∏.

## üöÄ –ö–ª—é—á–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

### –û—Å–Ω–æ–≤–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è
- **Enhanced Client** –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º retry —Ç–∞ circuit breaker
- **Multi-level Caching** –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é Redis —Ç–∞ compression
- **Advanced Rate Limiting** –∑ adaptive throttling
- **Comprehensive Error Handling** –∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü—ñ—î—é —Ç–∞ recovery
- **Connection Pooling** –¥–ª—è –∫—Ä–∞—â–æ—ó –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
- **Request/Response Compression** –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó —Ç—Ä–∞—Ñ—ñ–∫—É

### –°–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏
- **Competitive Intelligence** - –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ñ–≤ —Ç–∞ —Ü—ñ–Ω
- **Market Research** - –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è —Ä–∏–Ω–∫—É —Ç–∞ —Ç—Ä–µ–Ω–¥—ñ–≤
- **Real-time Monitoring** - –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
- **Advanced OSINT** - —Ä–æ–∑—à–∏—Ä–µ–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ —Ä–æ–∑–≤—ñ–¥–∫–∏
- **SEO Analysis** - –∞–Ω–∞–ª—ñ–∑ SEO —Ñ–∞–∫—Ç–æ—Ä—ñ–≤
- **Sentiment Analysis** - –∞–Ω–∞–ª—ñ–∑ –Ω–∞—Å—Ç—Ä–æ—ó–≤

### API —Ç–∞ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **RESTful API** –∑ OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—î—é
- **WebSocket API** –¥–ª—è real-time updates
- **Web Dashboard** –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É —Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è
- **Metrics —Ç–∞ Analytics** –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
src/tools/bright_data/
‚îú‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ core/                           # –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ enhanced_client.py          # –ü–æ–∫—Ä–∞—â–µ–Ω–∏–π –∫–ª—ñ—î–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ cache_manager.py            # –°–∏—Å—Ç–µ–º–∞ –∫–µ—à—É–≤–∞–Ω–Ω—è
‚îÇ   ‚îú‚îÄ‚îÄ error_handler.py            # –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ rate_limiter.py             # Rate limiting
‚îÇ   ‚îî‚îÄ‚îÄ config.py                   # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ tools/                          # –°–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ competitive_intelligence.py # –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∞ —Ä–æ–∑–≤—ñ–¥–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ market_research.py          # –î–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è —Ä–∏–Ω–∫—É
‚îÇ   ‚îú‚îÄ‚îÄ real_time_monitoring.py     # Real-time –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥
‚îÇ   ‚îî‚îÄ‚îÄ advanced_osint.py           # –†–æ–∑—à–∏—Ä–µ–Ω—ñ OSINT
‚îú‚îÄ‚îÄ api/                            # API –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ rest_api.py                 # REST API
‚îÇ   ‚îú‚îÄ‚îÄ websocket_api.py            # WebSocket API
‚îÇ   ‚îî‚îÄ‚îÄ dashboard.py                # Web dashboard
‚îî‚îÄ‚îÄ utils/                          # –£—Ç–∏–ª—ñ—Ç–∏
    ‚îú‚îÄ‚îÄ metrics.py                  # –ú–µ—Ç—Ä–∏–∫–∏
    ‚îú‚îÄ‚îÄ validators.py               # –í–∞–ª—ñ–¥–∞—Ü—ñ—è
    ‚îî‚îÄ‚îÄ formatters.py               # –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è
```

## üõ†Ô∏è –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### 1. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
# –û—Å–Ω–æ–≤–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
pip install aiohttp redis asyncio

# –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –¥–ª—è –ø–æ–≤–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ
pip install prometheus-client websockets fastapi uvicorn
```

### 2. –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞:

```bash
# –û—Å–Ω–æ–≤–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
export BRIGHT_DATA_API_KEY="your_api_key_here"
export REDIS_URL="redis://localhost:6379/0"
export CACHE_ENABLED="true"
export RATE_LIMIT_RPM="60"
```

–ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ JSON –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é:

```python
from src.tools.bright_data.core.config import BrightDataConfig

config = BrightDataConfig.from_file("configs/bright_data_enhanced_config.json")
```

### 3. –ë–∞–∑–æ–≤–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

```python
import asyncio
from src.tools.bright_data.core.enhanced_client import EnhancedBrightDataClient
from src.tools.bright_data.core.cache_manager import CacheManager
from src.tools.bright_data.core.rate_limiter import RateLimiter

async def main():
    # –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤
    cache_manager = CacheManager()
    rate_limiter = RateLimiter(requests_per_minute=60)
    
    # –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞
    client = EnhancedBrightDataClient(
        cache_manager=cache_manager,
        rate_limiter=rate_limiter
    )
    
    try:
        # –í–µ–±-—Å–∫—Ä–∞–ø—ñ–Ω–≥ –∑ –∫–µ—à—É–≤–∞–Ω–Ω—è–º
        result = await client.scrape_url(
            "https://example.com",
            use_cache=True,
            cache_ttl=3600
        )
        
        # –ü–æ—à—É–∫ –≤ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—ñ
        search_results = await client.search_web(
            query="artificial intelligence",
            count=10
        )
        
        # –û—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –ø—Ä–æ –ø—Ä–æ–¥—É–∫—Ç
        product_data = await client.get_product_data(
            "https://example-store.com/product"
        )
        
    finally:
        await client.close()

asyncio.run(main())
```

## üîß –†–æ–∑—à–∏—Ä–µ–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

### –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∞ —Ä–æ–∑–≤—ñ–¥–∫–∞

```python
from src.tools.bright_data.tools.competitive_intelligence import CompetitiveIntelligenceTools

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—ó —Ä–æ–∑–≤—ñ–¥–∫–∏
competitive_tools = CompetitiveIntelligenceTools(client)
tools = competitive_tools.create_tools()

# –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ü—ñ–Ω –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ñ–≤
price_tool = next(tool for tool in tools if tool.name == "competitive_price_monitoring")
result = await price_tool.func(
    product_urls=[
        "https://competitor1.com/product",
        "https://competitor2.com/product"
    ],
    competitor_name="Main Competitor"
)
```

### –ö–µ—à—É–≤–∞–Ω–Ω—è —Ç–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è

```python
from src.tools.bright_data.core.cache_manager import CacheManager, MemoryCache, RedisCache

# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–≥–∞—Ç–æ—Ä—ñ–≤–Ω–µ–≤–æ–≥–æ –∫–µ—à—É–≤–∞–Ω–Ω—è
memory_cache = MemoryCache(max_size=1000)
redis_cache = RedisCache(redis_url="redis://localhost:6379/0")
cache_manager = CacheManager(memory_cache, redis_cache)

# –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è –∫–µ—à—É–≤–∞–Ω–Ω—è
@cache_manager.cache_result(ttl=3600)
async def expensive_operation(param1, param2):
    # –°–∫–ª–∞–¥–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è
    return await some_expensive_api_call(param1, param2)
```

### Rate Limiting —Ç–∞ Throttling

```python
from src.tools.bright_data.core.rate_limiter import RateLimiter, ThrottleStrategy

# Adaptive rate limiting
rate_limiter = RateLimiter(
    requests_per_minute=60,
    burst_size=10,
    strategy=ThrottleStrategy.ADAPTIVE
)

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ–∑–≤–æ–ª—É –Ω–∞ –∑–∞–ø–∏—Ç
if await rate_limiter.acquire(user_id="user123"):
    # –í–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—É
    result = await make_api_request()
    
    # –ó–∞–ø–∏—Å –º–µ—Ç—Ä–∏–∫ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
    rate_limiter.record_response("user123", response_time=0.5, success=True)
```

### –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ —Ç–∞ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è

```python
from src.tools.bright_data.core.error_handler import BrightDataErrorHandler, ErrorCategory

error_handler = BrightDataErrorHandler()

# –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è custom recovery strategy
async def custom_recovery(error_info):
    # Custom –ª–æ–≥—ñ–∫–∞ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è
    await asyncio.sleep(5)

error_handler.register_recovery_strategy(ErrorCategory.NETWORK, custom_recovery)

# –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–∫–∏
try:
    result = await risky_operation()
except Exception as e:
    await error_handler.handle_error(e, {"operation": "risky_operation"})
```

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –º–µ—Ç—Ä–∏–∫–∏

### –û—Ç—Ä–∏–º–∞–Ω–Ω—è –º–µ—Ç—Ä–∏–∫

```python
# –ú–µ—Ç—Ä–∏–∫–∏ –∫–ª—ñ—î–Ω—Ç–∞
client_metrics = client.get_metrics()
print(f"Success rate: {client_metrics['success_rate']:.2f}%")
print(f"Average response time: {client_metrics['average_response_time']:.2f}s")

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–µ—à—É–≤–∞–Ω–Ω—è
cache_stats = cache_manager.get_cache_stats()
print(f"Cache hit rate: {cache_stats['hit_rate_percentage']:.2f}%")

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ rate limiting
rate_stats = rate_limiter.get_global_stats()
print(f"Total requests: {rate_stats['total_requests']}")
print(f"Rejected requests: {rate_stats['rejected_requests']}")
```

### Health Check

```python
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤'—è —Å–∏—Å—Ç–µ–º–∏
health_status = await client.health_check()
if health_status["status"] == "healthy":
    print("System is healthy")
else:
    print(f"System issue: {health_status['error']}")
```

## üîí –ë–µ–∑–ø–µ–∫–∞ —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è

### API Key Management

```python
from src.tools.bright_data.core.config import BrightDataConfig

# –ë–µ–∑–ø–µ—á–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è API –∫–ª—é—á—ñ–≤
config = BrightDataConfig()
config.api_key = "your_secure_api_key"
config.validate()  # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
```

### Rate Limiting per User

```python
# –†—ñ–∑–Ω—ñ –ª—ñ–º—ñ—Ç–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
await rate_limiter.acquire(user_id="premium_user")  # –í–∏—â—ñ –ª—ñ–º—ñ—Ç–∏
await rate_limiter.acquire(user_id="basic_user")    # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ –ª—ñ–º—ñ—Ç–∏
```

## üìà –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å

### Benchmarks

- **10x —à–≤–∏–¥—à–µ** –∑–∞–≤–¥—è–∫–∏ –±–∞–≥–∞—Ç–æ—Ä—ñ–≤–Ω–µ–≤–æ–º—É –∫–µ—à—É–≤–∞–Ω–Ω—é
- **99.9% uptime** –∑–∞–≤–¥—è–∫–∏ circuit breaker —Ç–∞ retry –ª–æ–≥—ñ—Ü—ñ
- **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ç–∏—Å—è—á –æ–¥–Ω–æ—á–∞—Å–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤** –∑–∞–≤–¥—è–∫–∏ connection pooling
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è** –∑–∞–≤–¥—è–∫–∏ adaptive throttling

### –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó

- Connection pooling –¥–ª—è HTTP –∑–∞–ø–∏—Ç—ñ–≤
- Request/response compression
- Intelligent caching strategies
- Adaptive rate limiting
- Circuit breaker pattern

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

```bash
# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–∫–ª–∞–¥—É
python examples/enhanced_bright_data_example.py

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤ (–∫–æ–ª–∏ –±—É–¥—É—Ç—å —Å—Ç–≤–æ—Ä–µ–Ω—ñ)
python -m pytest tests/test_bright_data_enhanced.py
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

- [Configuration Guide](docs/bright_data_config.md)
- [API Reference](docs/bright_data_api.md)
- [Advanced Features](docs/bright_data_advanced.md)
- [Troubleshooting](docs/bright_data_troubleshooting.md)

## ü§ù –í–Ω–µ—Å–æ–∫ —É –ø—Ä–æ–µ–∫—Ç

1. Fork –ø—Ä–æ–µ–∫—Ç—É
2. –°—Ç–≤–æ—Ä—ñ—Ç—å feature branch (`git checkout -b feature/amazing-feature`)
3. Commit –∑–º—ñ–Ω–∏ (`git commit -m 'Add amazing feature'`)
4. Push –¥–æ branch (`git push origin feature/amazing-feature`)
5. –°—Ç–≤–æ—Ä—ñ—Ç—å Pull Request

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

–¶–µ–π –ø—Ä–æ–µ–∫—Ç –ª—ñ—Ü–µ–Ω–∑–æ–≤–∞–Ω–∏–π –ø—ñ–¥ MIT License - –¥–∏–≤—ñ—Ç—å—Å—è —Ñ–∞–π–ª [LICENSE](../../../LICENSE) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## üôè –ü–æ–¥—è–∫–∏

- Bright Data –∑–∞ —ó—Ö MCP —Å–µ—Ä–≤–µ—Ä
- –°–ø—ñ–ª—å–Ω–æ—Ç–∞ DataMCPServerAgent –∑–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫—É —Ç–∞ feedback
- –í—Å—ñ –∫–æ–Ω—Ç—Ä–∏–±—é—Ç–æ—Ä–∏ –ø—Ä–æ–µ–∫—Ç—É
